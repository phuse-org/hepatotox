---
title: "WebR Quarto Demo"
format: html
webr: true
---

```{webR

# Install packages from the WebR repo
webr::install("dplyr")
webr::install("ggplot2")

library(dplyr)
library(ggplot2)

# Load the hepatotox example dataset (RData format) from GitHub
url <- "https://raw.githubusercontent.com/phuse-org/hepatotox/main/docs/data/cadhy.RData"
download.file(url, "cadhy.RData", mode = "wb")
load("cadhy.RData")

# Show the loaded objects
ls()

# Replace 'adsl' with the dataset actually inside your .RData
if ("adsl" %in% ls()) {
  summary(adsl)
} else {
  print("Dataset 'adsl' not found in cadhy.RData")
}

if ("adsl" %in% ls()) {
  ggplot(adsl, aes(x = AGE, fill = SEX)) +
    geom_histogram(binwidth = 5, position = "dodge") +
    theme_minimal() +
    labs(title = "Age Distribution by Sex (from cadhy.RData)")
}
```

